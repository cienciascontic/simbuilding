<!DOCTYPE html>

<html>
    <head>
        <title>SimBuilding</title>
        <script type="text/javascript" src="resources/e2d/energy2d.js"></script>
        <script type="text/javascript" src="libs/three.js"></script>
        <script type="text/javascript" src="libs/jquery-1.9.0.js"></script>
        <script type="text/javascript" src="libs/stats.js"></script>
        <script type="text/javascript" src="libs/dat.gui.js"></script>
        <script type="text/javascript" src="libs/FirstPersonControls.js"></script>
        <script type="text/javascript" src="libs/OrbitControls.js"></script>
        <script type="text/javascript" src="libs/ColladaLoader.js"></script>
        <script type="text/javascript" src="libs/EffectComposer.js"></script>
        <script type="text/javascript" src="libs/RenderPass.js"></script>
        <script type="text/javascript" src="libs/ShaderPass.js"></script>
        <script type="text/javascript" src="libs/MaskPass.js"></script>
        <script type="text/javascript" src="libs/CopyShader.js"></script>
        <script type="text/javascript" src="libs/ColorifyShader.js"></script>
        <script type="text/javascript" src="simbuilding.js"></script>
        <script type="text/javascript" src="PointerLockControls.js"></script>
    </head>

    <body style="margin: 0; overflow: hidden">
        <div id="Stats-output">
        </div>

        <div id="WebGL-output">
            <img id="ircamera-small" src="resources/textures/ircamera.png" width="300" height="400" alt="IR Camera Simulator" style="position: absolute; right: 0; bottom: 0;" />
            <div id="ircamera" style="
                 position: absolute;
                 left: 50%;
                 bottom: 0;
                 width: 624px;
                 height: 712px;
                 display: none;
                 margin: 0 auto;
                 ">
                <div style="position: absolute; left: -50%; width: 624px; height: 712px">
                    <img src="resources/textures/ir-camera.png" width="624" height="712" alt="IR Camera Simulator" usemap="#IRCameraButtons" />
                    <map name="IRCameraButtons">
                        <area shape="rect" coords="120,540,210,600" alt="Play" href="javascript: if (running) {running = false; stop(appletTarget)} else {running = true; run(appletTarget)}" />
                        <area shape="rect" coords="420,540,510,600" alt="Reset" href="javascript: jsReset(appletTarget)" />
                        <area shape="rect" coords="260,565,360,665" alt="Chart" href="javascript: if (chart) {chart = false; runScript(appletTarget, 'set graph false;')} else {chart = true; runScript(appletTarget, 'set graph true;')}" />
                        <area shape="circle" coords="432,647,20" alt="Off" href="javascript: $('#applet').fadeOut(); camControl.enabled = true;" />
                    </map>
                    <div id="applet" style="position: absolute; left: 100px; top: 123px; display: none">
                        <applet id="applet1" archive="resources/e2d/energy2d-applet.jar" code="org.concord.energy2d.system.System2D" width="450" height="360" style="display: none">
                            <param name="script" value="load resources/e2d/thermal-bridge.e2d;" />
                            <param name="permissions" value="sandbox" />
                            <param name="MAYSCRIPT" value="true" />
                        </applet>
                        <applet id="applet2" archive="resources/e2d/energy2d-applet.jar" code="org.concord.energy2d.system.System2D" width="450" height="360" style="display: none">
                            <param name="script" value="load resources/e2d/fireplace-on.e2d;" />
                            <param name="permissions" value="sandbox" />
                            <param name="MAYSCRIPT" value="true" />
                        </applet>
                    </div>
                    <br>
                    <div id="menu" style="
                         position: absolute;
                         left: 50%;
                         bottom: 300px;
                         text-align: center;
                         width: 480px;
                         margin-left: -240px;
                         display: none;
                         ">
                        <form>
                            <input id="run_button" type="button" value="Run" onclick="run('applet1')" style="width: 100px"> <br/> <br/>
                            <input id="stop_button" type="button" value="Stop" onclick="stop('applet1')" style="width: 100px"> <br/> <br/>
                            <input id="reset_button" type="button" value="Reset" onclick="jsReset('applet1')" style="width: 100px"> <br/> <br/>
                            <select onChange="runScript('applet1', 'set color_palette_type ' + this.options[this.selectedIndex].value)" style="width: 100px">
                                <option value="RAINBOW">Rainbow</option>
                                <option value="IRON" selected>Iron</option>
                                <option value="GRAY">Gray</option>
                            </select>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript">
            running = false;
            chart = false;
            $(function () {
                document.body.onselectstart = function () {
                    return false;
                }
                document.body.ondragstart = function () {
                    return false;
                };
                startSimBuilding();
            });
            $('ircamera-small').on('dragstart', function (event) {
                event.preventDefault();
            });
            $('ircamera').on('dragstart', function (event) {
                event.preventDefault();
            });
        </script>
    </body>
</html>