<!DOCTYPE html>

<html>
    <head>
        <title>SimBuilding</title>
        <script type="text/javascript" src="resources/e2d/energy2d.js"></script>
        <script type="text/javascript" src="libs/three.js"></script>
        <script type="text/javascript" src="libs/jquery-1.9.0.js"></script>
        <script type="text/javascript" src="libs/stats.js"></script>
        <script type="text/javascript" src="libs/dat.gui.js"></script>
        <script type="text/javascript" src="libs/FirstPersonControls.js"></script>
        <script type="text/javascript" src="libs/OrbitControls.js"></script>
        <script type="text/javascript" src="libs/ColladaLoader.js"></script>
        <script type="text/javascript" src="libs/EffectComposer.js"></script>
        <script type="text/javascript" src="libs/RenderPass.js"></script>
        <script type="text/javascript" src="libs/ShaderPass.js"></script>
        <script type="text/javascript" src="libs/MaskPass.js"></script>
        <script type="text/javascript" src="libs/CopyShader.js"></script>
        <script type="text/javascript" src="libs/ColorifyShader.js"></script>
        <script type="text/javascript" src="simbuilding.js"></script>
        <script type="text/javascript" src="PointerLockControls.js"></script>
        <script type="text/javascript" src="quiz.js"></script>
    </head>

    <body style="margin: 0; overflow: hidden">
        <div id="Stats-output">
        </div>

        <div id="score" style="position: absolute; top: 50px; width: 50; height: 50; font-size: 50px; color: greenyellow">
            0
        </div>

        <div id="WebGL-output">
            <div style="position: absolute; right: 0; bottom: 0;">
                <img id="moisturemeter-small" src="resources/images/moisturemeter.png" width="88" height="200"
                     onclick ='toggleTool(1)' ontouchstart='toggleTool(1)' />
                <img id="ircamera-small" src="resources/images/ircamera.png" width="150" height="200"
                     onclick ='toggleTool(0)' ontouchstart='toggleTool(0)' />
            </div>
            <div id="ircamera" style="
                 position: absolute;
                 left: 50%;
                 bottom: 0px;
                 width: 624px;
                 height: 712px;
                 display: none;
                 margin: 0 auto;
                 ">
                <div style="position: absolute; left: -50%; width: 624px; height: 712px">
                    <img id="target" src="resources/images/target.png" alt="" style="position: absolute; left: 250px; top: 220px"/>
                    <div id="quiz" style="position: absolute; left: 100px; top: 123px; width: 425px; height: 360px; background-size: 100% 100%; padding: 10px; display: none"
                         onmousedown="toggleQuizQuestion();">
                        <form id="quizYesNo" style="display: none">
                            <h1>Investigate</h1>
                            <p style="font-size: large">Do you see a problem here?</p>
                            <input id="problem_yes_button" type="button" value="Yes" onclick="answer(true)" style="width: 50px">
                            <input id="problem_no_button" type="button" value="No" onclick="answer(false)" style="width: 50px">
                        </form>
                        <form id="quizMulti" style="display: none">
                            <h1>Investigate</h1>
                            <p style="font-size: large">Do you see a problem here?</p>
                            <input type="radio" name = "answer" id="quiz0">
                            <label for="quiz0" style="font-size: large"></label><br/>
                            <input type="radio" name = "answer" id="quiz1">
                            <label for="quiz1" style="font-size: large"></label><br/>
                            <input type="radio" name = "answer" id="quiz2">
                            <label for="quiz2" style="font-size: large"></label><br/>
                            <input type="radio" name = "answer" id="quiz3">
                            <label for="quiz3" style="font-size: large"></label><br/>
                            <input type="button" value="Submit" onclick="answerMulti()">
                        </form>
                        <div id="quizCorrect" style="display: none; font-size: xx-large; color: greenyellow; text-align: center; padding-top: 80px">Correct!</div>
                        <div id="quizIncorrect" style="display: none; font-size: xx-large; text-align: center; ; padding-top: 80px">Incorrect!</div>
                        <div id="quizAlreadyChecked" style="display: none; font-size: xx-large; text-align: center; ; padding-top: 80px">Already Checked!</div>
                    </div>
                    <img src="resources/images/ir-camera.png" alt="" width="624" height="712" usemap="#IRCameraButtons" />
                    <map name="IRCameraButtons">
                        <area shape="rect" coords="120,540,210,600" alt="Play" href="javascript: if (running) {running = false; stop(appletTarget)} else {running = true; run(appletTarget)}" />
                        <area shape="rect" coords="420,540,510,600" alt="Reset" href="javascript: jsReset(appletTarget)" />
                        <area shape="rect" coords="260,565,360,665" alt="Chart" href="javascript: if (chart) {chart = false; runScript(appletTarget, 'set graph false;')} else {chart = true; runScript(appletTarget, 'set graph true;')}" />
                        <area shape="circle" coords="432,647,20" alt="Off" href='javascript: toggleTool(-1)' />
                    </map>
                </div>
            </div>
            <div id="moisturemeter" style="
                 position: absolute;
                 left: 50%;
                 bottom: -400px;
                 width: 400px;
                 height: 909px;
                 display: none;
                 margin: 0 auto;
                 ">
                <div style="position: absolute; left: -50%; width: 400px; height: 909px">
                    <img src="resources/images/target.png" alt="" style="position: absolute; left: 140px; top: -100px"/>
                    <img src="resources/images/moisturemeter.png" alt="" width="400" height="909" usemap="#MoistureButtons"/>
                    <div id="moisturemeter-value" style="font-size: 100px; position: absolute; left: 150px; top: 200px">
                        98
                    </div>
                    <map name="MoistureButtons">
                        <area shape="rect" coords="120,430,190,490" alt="Off" href="javascript: toggleTool(-1)" />
                    </map>
                </div>
            </div>
        </div>

        <script type="text/javascript">
            running = false;
            chart = false;
            $(function () {
                document.body.onselectstart = function () {
                    return false;
                };
                document.body.ondragstart = function () {
                    return false;
                };
                startSimBuilding();
            });
            $('ircamera-small').on('dragstart', function (event) {
                event.preventDefault();
            });
            $('ircamera').on('dragstart', function (event) {
                event.preventDefault();
            });
        </script>
    </body>
</html>